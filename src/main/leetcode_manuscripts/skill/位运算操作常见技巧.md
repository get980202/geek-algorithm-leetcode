## 位运算操作常见技巧

### 基本的位操作

- 与（ & ）每一位进行比较，两位都为1，结果为1，否则为0（-4 & 1 = 0）

```java
  1 0 0 1 1 -->(19)[10]  表示10进制中的19
& 1 1 0 0 1 -->(25)[10]
------------------------------
  1 0 0 0 1 -->(17)[10]
```

- 或（ | ）每一位进行比较，两位有一位是1，结果就是1（-4 | 1 = -3）

```java
  1 0 0 1 1 -->(19)[10]
| 1 1 0 0 1 -->(25)[10]
------------------------------
  1 1 0 1 1 -->(27)[10]
```

- 非（ ~ ） 每一位进行比较，按位取反（符号位也要取反）（~ -4 = 3）

```java
~ 1 0 0 1 1 -->(19)[10]
-----------------------------
  0 1 1 0 0 -->(12)[10]
```

- 异或（ ^ ）每一位进行比较，相同为0，不同为1（^ -4 = -3）

```java
  1 0 0 1 1 -->(19)[10]
^ 1 1 0 0 1 -->(25)[10]
-----------------------------
  0 1 0 1 0 -->(10)[10]
```

- 左移（ << ） 整体左移，右边空出位补零，左边位舍弃 （-4 << 1 = -8）

```java
int a = 8;
a << 3;
移位前：0000 0000 0000 0000 0000 0000 0000 1000 -->(8)[10]
移位后：0000 0000 0000 0000 0000 0000 0100 0000 -->(64)[10]  相当于 X 2^3
```

- 右移（ >> ） 整体右移，左边空出位补零或补1（负数补1，整数补0），右边位舍弃 （-4 >> 1 = -2）

```java
unsigned int a = 8;
a >> 3;
移位前：0000 0000 0000 0000 0000 0000 0000 1000 -->(8)[10]
移位后：0000 0000 0000 0000 0000 0000 0000 0001 -->(1)[10] 相当于 / 2^3
​
int a = -8;
a >> 3;
移位前：1111 1111 1111 1111 1111 1111 1111 1000 -->(-8)[10]
移位前：1111 1111 1111 1111 1111 1111 1111 1111 -->(-1)[10] 
```

- 无符号右移（ >>> ）同>>,但不管正数还是负数都左边位都补0 （-4 >>> 1 = 2147483646）

### 初阶位操作

- 交换两个数

```java
int x = 1 , y = 2; 
x^=y;  // x = 0011
y^=x;  // y = 0001 -->(1)[10]
x^=y;  // x = 0010 -->(2)[10] 
//x =2, y =1  x变成y y变成x
```

- 加1操作

```java
int x =1;
x =-(~x); // 0001 --> (~x)后得到1110 --> -(~x) 后得到0010 也就是2，实现了+1操作
//x = 2
```

- 减1操作

```java
int x =2;
x =~(-x); // 0010 -->(-x)后得到1110 --> ~(-x) 后得到 0001 也就是1，实现了-1操作
```

- 或（|）操作和空格转英文字符为小写字符

```java
'a'|' '='a'  
// 'a' --> (1100001)[2] 二进制表示 其是(97)[10]
// ' ' --> (0100000)[2] 二进制表示 其是(32)[10]
  1100001 -->(97)[10]
| 0100000 -->(32)[10]
------------------------------
  1100001 -->(97)[10]    还是'a'本身
```

```java
'A'|' '='a'  
// 'A' --> (1000001)[2] 二进制表示 其是(65)[10]
// ' ' --> (0100000)[2] 二进制表示 其是(32)[10]
  1000001 -->(65)[10]
| 0100000 -->(32)[10]
------------------------------
  1100001 -->(97)[10]    'A'-->'a'
```

> 常用的ASCII值

```java
'0' : 48
'A' : 65
'a' : 97
```

- 与（&）操作和下划线转英文字符为大写字符

```java
'a'&'_'='A'  
// 'a' --> (1100001)[2] 二进制表示 其是(97)[10]
// '_' --> (1011111)[2] 二进制表示 其是(95)[10]
  1100001 -->(97)[10]
| 1011111 -->(95)[10]
------------------------------
  1000001 -->(65)[10]    'a'-->'A'
```

```java
'A'&'_'='A'  
// 'A' --> (1000001)[2] 二进制表示 其是(65)[10]
// '_' --> (1011111)[2] 二进制表示 其是(95)[10]
  1000001 -->(65)[10]
| 1011111 -->(95)[10]
------------------------------
  1000001 -->(65)[10]    'A'-->'A'
```

- 异或（^）操作与空格实现大小写英文字符互转

```java
'a'^' '='A'  
// 'a' --> (1100001)[2] 二进制表示 其是(97)[10]
// ' ' --> (0100000)[2] 二进制表示 其是(32)[10]
  1100001 -->(97)[10]
^ 0100000 -->(32)[10]
------------------------------
  1000001 -->(65)[10]   'a'-->'A'
```

```java
'A'^' '='a'  
// 'A' --> (1000001)[2] 二进制表示 其是(65)[10]
// ' ' --> (0100000)[2] 二进制表示 其是(32)[10]
  1000001 -->(65)[10]
^ 0100000 -->(32)[10]
------------------------------
  1100001 -->(97)[10]    'A'-->'a'
```

- 两个数是否异号

```java

```









![image-20201012091442282](D:\Dev\SrcCode\geek-algorithm-leetcode\src\main\leetcode_manuscripts\skill\位运算操作常见技巧.assets\image-20201012091442282.png)



### Reference

- https://www.cnblogs.com/td15980891505/p/5447424.html

- https://www.zhihu.com/question/38206659/answer/294900478
- https://www.cnblogs.com/hellocheng/p/7402170.html
- https://www.luogu.com.cn/blog/sxyzsycpqst521/wei-yun-suan-qiang-tai-dei-ling-ren-hai-pa